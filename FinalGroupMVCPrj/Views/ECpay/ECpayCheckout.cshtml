@* @{
    ViewData["Title"] = "ECpayCheckout";
}

<h1>ECpayCheckout</h1>

@model System.Collections.Generic.Dictionary<string, string>
@{
    Layout = null;
}
<!DOCTYPE html>
<html>
<body>
    <form id="form" name="form" method="POST" action="https://payment-stage.ecpay.com.tw/Cashier/AioCheckOut/V5">
        <!--step2 : 收到後端的值印出來-->
        @foreach (var key in @Model.Keys.ToList())
        {
            @(key) <input type="text" name="@key" value="@Model[key]" />

            <br />
        }
        <button type="submit" id="checkoutBtn">送出</button>
    </form>
    <!-- js套件 -->
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/5.1.3/js/bootstrap.bundle.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.5.1.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/jquery-twzipcode@1.7.14/jquery.twzipcode.min.js"></script>
</body>
</html> *@



@{
    ViewData["Title"] = "ECpayCheckout";
}
@model System.Collections.Generic.Dictionary<string, string>
@{
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>準備進入信用卡結帳畫面</title>
    <style>
        .center-text {
            text-align: center;
        }
        #preLoader {
            display: none;
        }
    </style>
</head>
<body>
    <div class="shopping-area" style="padding-top: 240px; padding-bottom: 60px;">
        <div class="container">
            <div style="text-align: center;">
                <i class="mb-30 fa-solid fa-spinner fa-spin-pulse center-text" style="color: #33caf0;font-size: 6em;"></i>
            </div>
            <h4 class="mb-10 fs-6 center-text">交易資料傳輸中...</h4>
            <h4 class="mb-10 fs-6 center-text">請勿關閉視窗，以避免交易失敗！</h4>
            <h4 class="mb-10 fs-6 center-text">Transaction data processing.. DO NOT refresh or close the webpage.</h4>

            <form id="form" name="form" method="POST" style="visibility:hidden;height:0px" action="https://payment-stage.ecpay.com.tw/Cashier/AioCheckOut/V5">
                <!--step2 : 收到後端的值印出來-->
                @foreach (var key in @Model.Keys.ToList())
                {
                    @(key) <input type="text" name="@key" value="@Model[key]" />

                    <br />
                }
                <button type="submit" id="checkoutBtn">送出</button>
            </form>
        </div>
    </div>


    <!-- js套件 -->

    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/5.1.3/js/bootstrap.bundle.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.5.1.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/jquery-twzipcode@1.7.14/jquery.twzipcode.min.js"></script>

    <script>
        // 設置延遲時間
        window.onload = function () {
            setTimeout(function () {
                document.getElementById("checkoutBtn").click();
            }, 1500);
        }; 
    </script>
   
</body>
</html>